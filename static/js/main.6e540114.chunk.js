(this["webpackJsonptask-mobx-ts"]=this["webpackJsonptask-mobx-ts"]||[]).push([[0],{10:function(t,e,a){t.exports={btn:"Modal_btn__bKKtw",modal:"Modal_modal__1UQln",modBack:"Modal_modBack__3lweq"}},13:function(t,e,a){t.exports={header:"Header_header__3NlgG",inp:"Header_inp__18Rgt",btn:"Header_btn__3vPiX"}},19:function(t,e,a){t.exports={content:"Content_content__3mCMQ"}},21:function(t,e,a){t.exports=a(31)},26:function(t,e,a){},31:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),r=a(17),s=a.n(r);a(26),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(6),i=a(7),l=a(1);var m=function(){function t(){var e=this;Object(c.a)(this,t),this.fieldText="",this.tasks=[],this.updateFieldText=function(t){e.fieldText=t},this.createTask=function(){e.tasks.unshift({id:Math.random().toString(36).substr(2,9),name:e.fieldText,spentTime:0,lastStartTime:Math.round((new Date).getTime()/1e3)}),e.fieldText=""},this.startTask=function(t){for(var a=e.tasks,n=0;n<a.length;n++)if(a[n].id===t){a[n].lastStartTime=Math.round((new Date).getTime()/1e3);break}},this.stopTask=function(t){for(var a=e.tasks,n=0;n<a.length;n++)if(a[n].id===t){var o=a[n];0!==o.lastStartTime&&(o.spentTime+=Math.round((new Date).getTime()/1e3)-+o.lastStartTime,o.lastStartTime=0);break}},this.deleteTask=function(t){e.tasks=e.tasks.filter((function(e){return e.id!==t}))},this.load(),function(t,e){var a=!0;l.g((function(){var n=JSON.stringify(l.p(t));a||e(n),a=!1}))}(this,this.save.bind(this))}return Object(i.a)(t,[{key:"load",value:function(){var t=localStorage.getItem("store");if("string"===typeof t){var e=JSON.parse(t);Object(l.j)(this,e)}}},{key:"save",value:function(t){localStorage.setItem("store",t)}}]),t}();Object(l.i)(m,{fieldText:l.o,tasks:l.o,updateFieldText:l.f,createTask:l.f,startTask:l.f,stopTask:l.f,deleteTask:l.f});var u,d,f=new m,v=a(13),h=a.n(v),k=a(4),p=a(3),T=a(8),b=Object(T.a)((function(t){var e=t.store;return o.a.createElement("nav",{className:h.a.header},o.a.createElement("input",{className:h.a.inp,value:e.fieldText,onChange:function(t){e.updateFieldText(t.target.value)}}),o.a.createElement("button",{className:h.a.btn+" customBtn",onClick:function(){e.createTask()}},o.a.createElement(k.a,{icon:p.c})))})),_=a(11),E=a(12),g=a(19),w=a.n(g),M=a(5),y=a.n(M),N=Object(T.a)(u=function(t){Object(E.a)(a,t);var e=Object(_.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).interval=void 0,t}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var t=this;this.interval=setInterval((function(){0!==t.props.task.lastStartTime&&t.forceUpdate()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var t=this.props,e=t.task,a=t.remove,n=t.stop,r=t.start;return o.a.createElement("div",{className:y.a.task},o.a.createElement("div",null,o.a.createElement("span",{className:y.a.name},e.name?e.name:"-")),o.a.createElement("div",{className:y.a.timeAndBtns},o.a.createElement("span",{className:y.a.time},function(){var t=e.spentTime;e.lastStartTime&&(t+=Math.round((new Date).getTime()/1e3)-e.lastStartTime);var a=Math.floor(t/86400);t-=86400*a;var n=Math.floor(t/3600)%24;t-=3600*n;var o=Math.floor(t/60)%60,r=(t-=60*o)%60;return"".concat(a," day ").concat(n,":").concat(o,":").concat(r)}()),e.lastStartTime>0?o.a.createElement("button",{className:"customBtn ".concat(y.a.btn),onClick:function(){n(e.id)}},o.a.createElement(k.a,{icon:p.d})):o.a.createElement("button",{className:"customBtn ".concat(y.a.btn),onClick:function(){r(e.id)}},o.a.createElement(k.a,{icon:p.b})),o.a.createElement("button",{className:"customBtn ".concat(y.a.btn),onClick:function(){a(e.id)}},o.a.createElement(k.a,{icon:p.f}))))}}]),a}(o.a.Component))||u,O=a(10),j=a.n(O),B=function(t){var e=t.answer;return o.a.createElement("div",{className:j.a.modBack},o.a.createElement("div",{className:j.a.modal},"Are you sure ?",o.a.createElement("button",{className:"customBtn ".concat(j.a.btn),onClick:function(){e(!0)}},o.a.createElement(k.a,{icon:p.a})),o.a.createElement("button",{className:"customBtn ".concat(j.a.btn),onClick:function(){e(!1)}},o.a.createElement(k.a,{icon:p.e}))))},S=Object(T.a)(d=function(t){Object(E.a)(a,t);var e=Object(_.a)(a);function a(){var t;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).store=t.props.store,t.state={showModal:!1,removeID:""},t.remove=function(e){t.setState({showModal:!0,removeID:e})},t.removeConfirmedByModal=function(e){t.setState({showModal:!1}),e&&t.store.deleteTask(t.state.removeID)},t}return Object(i.a)(a,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:w.a.content},this.store.tasks.map((function(e){return o.a.createElement(N,{key:e.id,task:e,start:t.store.startTask,stop:t.store.stopTask,remove:t.remove})})),this.state.showModal&&o.a.createElement(B,{answer:this.removeConfirmedByModal}))}}]),a}(o.a.Component))||d,x=function(t){var e=t.store;return document.title="Todo list App",o.a.createElement("div",{className:"App"},o.a.createElement(b,{store:e}),o.a.createElement(S,{store:e}))};s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,{store:f})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},5:function(t,e,a){t.exports={task:"Task_task__2gY3E",name:"Task_name__1TFOq",timeAndBtns:"Task_timeAndBtns__1CjOj",time:"Task_time__1uBZu",btn:"Task_btn__2tgG7"}}},[[21,1,2]]]);
//# sourceMappingURL=main.6e540114.chunk.js.map